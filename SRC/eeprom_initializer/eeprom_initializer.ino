#include <EEPROM.h>

unsigned char MENU_ICON_1[] = {
0xff,0xff,
0xc0,0x01,
0x80,0x00,
0x3f,0xfc,
0x3f,0xfc,
0x30,0x0c,
0x3f,0xfc,
0x3f,0xfc,
0x30,0x0c,
0x3f,0xfc,
0x3f,0xfc,
0x80,0x00,
0xc0,0x01,
0xf0,0xff,
0xf9,0xff,
0xf3,0xff
}; 

unsigned char MENU_ICON_2[] = {
0xc7,0xe3,
0xd7,0xeb,
0x90,0x09,
0x00,0x00,
0x00,0x00,
0x3f,0xfc,
0x00,0x00,
0x3f,0xfc,
0x3f,0xfc,
0x39,0x1c,
0x3d,0xdc,
0x3d,0xbc,
0x3d,0x1c,
0x3f,0xfc,
0x00,0x00,
0x80,0x01
}; 

unsigned char MENU_ICON_3[] = {
0xff,0xff,
0xff,0xff,
0xff,0xff,
0xe3,0xc7,
0x80,0x03,
0x80,0x01,
0x08,0x28,
0x1c,0x00,
0x08,0x28,
0x00,0x00,
0x02,0x81,
0x86,0xe1,
0xcf,0x73,
0xff,0xff,
0xff,0xff,
0xff,0xff
}; 

unsigned char MENU_ICON_4[] = {
0xff,0xff,
0x00,0x00,
0x00,0x00,
0x3f,0xfc,
0x33,0xfc,
0x27,0xfc,
0x27,0xfc,
0x33,0xdc,
0x3f,0x9c,
0x3f,0x8c,
0x3f,0x04,
0x23,0x14,
0x30,0x00,
0x04,0x90,
0x00,0x00,
0x00,0x00
}; 

unsigned char MENU_ICON_5[] = {
0xff,0xcf,
0xff,0xcf,
0xff,0x0f,
0xff,0x0f,
0xfe,0x1f,
0xfe,0x1f,
0xf8,0x03,
0x90,0x00,
0x80,0x00,
0x80,0x01,
0x80,0x01,
0x80,0x01,
0x80,0x03,
0x90,0x03,
0x90,0x07,
0xff,0xff
}; 

unsigned char MENU_ICON_6[] = {
0xf3,0xcf,
0xf1,0x8f,
0xf0,0x0f,
0xf0,0x8f,
0x07,0xe0,
0x07,0x70,
0x8c,0x31,
0xd9,0x9b,
0xcd,0xb3,
0x0c,0x31,
0x07,0xf0,
0x97,0xc0,
0x30,0x0f,
0xf1,0x0f,
0xf1,0x8f,
0xf3,0xdf
}; 

unsigned char MENU_ICON_7[] = {
0xff,0xff,
0xfc,0x3f,
0xf8,0x1f,
0xf8,0x1f,
0xfc,0x1f,
0xfc,0x3f,
0xff,0xff,
0xf3,0xcf,
0xc1,0xc7,
0xc1,0x83,
0xc0,0x01,
0x80,0x01,
0x80,0x01,
0x80,0x01,
0x80,0x03,
0xd0,0x0b
};

// WB skel logo, 357 bytes, 56x51
unsigned char LOGO_IMG[] = {
0x00,0x00,0x05,0x28,0x00,0x00,0x00,
0x00,0x01,0xb5,0x3a,0xe0,0x00,0x00,
0x00,0x01,0x15,0x16,0x80,0x00,0x00,
0x00,0x05,0x11,0x14,0x83,0x00,0x00,
0x00,0x27,0xc0,0x00,0x82,0x00,0x00,
0x00,0xbe,0x00,0xe0,0x04,0xc0,0x00,
0x00,0x5c,0x3f,0xff,0x05,0xa0,0x00,
0x00,0x70,0xff,0xff,0xe1,0x48,0x00,
0x03,0x23,0xff,0xff,0xf8,0x50,0x00,
0x01,0xcf,0xff,0xff,0xfc,0x24,0x00,
0x10,0x1f,0xf9,0x27,0xff,0x29,0x00,
0x08,0x3f,0xf8,0x03,0xff,0x93,0x80,
0x7c,0x7f,0xf8,0x03,0xff,0xca,0x80,
0x30,0xfe,0x49,0x26,0xdf,0xe6,0x40,
0xd9,0xfe,0x00,0x00,0x0f,0xf0,0x60,
0x33,0xfe,0x00,0x00,0x0f,0xf1,0x80,
0x03,0xf2,0x7f,0xff,0x89,0xf8,0x00,
0x07,0xe0,0x7f,0xff,0x81,0xfc,0x00,
0x07,0xf0,0x7f,0xff,0x81,0xfc,0x00,
0x0f,0xf3,0xff,0xff,0xf1,0xfc,0x00,
0x0f,0xe3,0xff,0xff,0xf1,0xfe,0x00,
0x1f,0xf3,0xff,0xff,0xf1,0xfe,0x00,
0x1f,0xf3,0xcd,0xf6,0xf9,0xfe,0x00,
0x1f,0xe3,0xc0,0xe0,0x71,0xff,0x00,
0x1f,0xf3,0xc0,0xe0,0x71,0xff,0x00,
0x1f,0xf3,0xc9,0xe4,0x79,0xff,0x00,
0x3f,0xe3,0xc0,0xe0,0x71,0xff,0x00,
0x3f,0xf3,0xc0,0xe0,0x71,0xff,0x00,
0x3f,0xf3,0xff,0xff,0xf9,0xff,0x00,
0x3f,0xe3,0xff,0xff,0xf1,0xff,0x00,
0x3f,0xf3,0xff,0xff,0xf1,0xff,0x00,
0x1f,0xf3,0xff,0xff,0xf9,0xff,0x00,
0x1f,0xe0,0x78,0xe3,0x81,0xff,0x00,
0x1f,0xe0,0x78,0xe3,0x81,0xff,0x00,
0x1f,0xfe,0x79,0xe7,0x8f,0xfe,0x00,
0x1f,0xfe,0x00,0x00,0x0f,0xfe,0x00,
0x0f,0xfe,0x00,0x00,0x0f,0xfe,0x00,
0x0f,0xfe,0x79,0xe7,0x8f,0xfc,0x00,
0x07,0xfe,0x78,0xe3,0x8f,0xfc,0x00,
0x07,0xfe,0x78,0xe3,0x8f,0xf8,0x00,
0x03,0xfe,0x7f,0xff,0x8f,0xf8,0x00,
0x03,0xfe,0x0f,0xfc,0x0f,0xf0,0x00,
0x01,0xfe,0x0f,0xfc,0x0f,0xe0,0x00,
0x00,0xff,0xcf,0xfc,0x7f,0xc0,0x00,
0x00,0x7f,0xc0,0x00,0x7f,0xc0,0x00,
0x00,0x3f,0xc0,0x00,0x7f,0x80,0x00,
0x00,0x1f,0xff,0xff,0xfe,0x00,0x00,
0x00,0x07,0xff,0xff,0xfc,0x00,0x00,
0x00,0x03,0xff,0xff,0xf0,0x00,0x00,
0x00,0x00,0xff,0xff,0xc0,0x00,0x00,
0x00,0x00,0x1f,0xfe,0x00,0x00,0x00
}; 

// defines for EEPROM
#define EEPROM_ICON1              32    // +32
#define EEPROM_ICON2              64    // +32
#define EEPROM_ICON3              96    // +32
#define EEPROM_ICON4              128   // + 32
#define EEPROM_ICON5              160   // + 32
#define EEPROM_ICON6              192   // + 32
#define EEPROM_ICON7              224   // + 32
#define EEPROM_LOGO_IMG           256   // + 357
#define EEPROM_USER_NAME          613   // +14
#define EEPROM_CREDITS            627   // + 165
#define EEPROM_PERMISSION_DENIED  792  // +19
#define EEPROM_AP_NAME            811  // +20
#define EEPROM_AP_PASS            831  // +20
#define EEPROM_DEFAULT_AP_NAME    851  // +20
#define EEPROM_DEFAULT_AP_PASS    871  // +20
#define EEPROM_SETTING            891  // +24
#define EEPROM_TABLE_REQUEST      915  // +54
#define EEPROM_VOTE_REQUEST       969  // +54

void WriteToEEPROM(int offset, char *data)
{
  for(int i=0 ; i<=strlen(data); i++)
    EEPROM.write(offset + i, data[i]); 
}

// initial setup
void setup() {      
  int IconList[] = {EEPROM_ICON1, EEPROM_ICON2, EEPROM_ICON3, EEPROM_ICON4, EEPROM_ICON5, EEPROM_ICON6, EEPROM_ICON7};
  unsigned char *iconDataList[] = {MENU_ICON_1, MENU_ICON_2, MENU_ICON_3, MENU_ICON_4, MENU_ICON_5, MENU_ICON_6, MENU_ICON_7};

  // formatting eeprom 
  for(int i=0 ; i<1024; i++)
    EEPROM.write(0 + i, 0x00); 

  // LOGO IMG
  for(int i=0 ; i<sizeof(LOGO_IMG); i++)
    EEPROM.write(EEPROM_LOGO_IMG + i, LOGO_IMG[i] ^ 0xff); 

  // MENU IMG
  for(int idx=0; idx<7; idx++){
    for(int i=0; i<sizeof(MENU_ICON_1); i++)
     EEPROM.write(IconList[idx] + i, iconDataList[idx][i]);            
  }

  // STRINGS
  WriteToEEPROM(EEPROM_SETTING, "Change Name|AP Setting|");
  WriteToEEPROM(EEPROM_PERMISSION_DENIED, "Permission Denied!");
  WriteToEEPROM(EEPROM_AP_NAME, "hghgwifi");
  WriteToEEPROM(EEPROM_AP_PASS, "!SeCrEtPaSsWd!");
  WriteToEEPROM(EEPROM_DEFAULT_AP_NAME, "hghgwifi");
  WriteToEEPROM(EEPROM_DEFAULT_AP_PASS, "!SeCrEtPaSsWd!");  
  WriteToEEPROM(EEPROM_CREDITS, "      [Design]|mattoh,wonlee,mongii|     [Hardware]|      won lee|     [Software]|       mongii|    [PCB outline]|       2doll|    [Assistants]| hdarwin,jakc2,vrat|");  
  WriteToEEPROM(EEPROM_TABLE_REQUEST, "GET /2016/table.php?t=%s&p=%d HTTP/1.0\r\nHost: %s\r\n\r\n");  
  WriteToEEPROM(EEPROM_VOTE_REQUEST, "GET /2016/vote.php?id=%s&sel=%d HTTP/1.0\r\nHost: %s\r\n\r\n");  

  // Finishing Alarm on buzzer
  pinMode(6, OUTPUT);
  for(int i=0; i<10; i++) {
    digitalWrite(6, HIGH);
    delay(10);
    digitalWrite(6, LOW);
    delay(10);
  }
}

// main loop
void loop() {  
}

